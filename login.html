<!DOCTYPE html>
<html lang="es">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>eMercado - Todo lo que busques está aquí</title>
  <meta name="google-signin-client_id" content="149874981056-kdrd9gn539nc13ko1em0vbgg6ahdl4hv.apps.googleusercontent.com">
  <link href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i,900,900i" rel="stylesheet">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/styles.css" rel="stylesheet">
  <style>
    body {
      background-color: rgb(248, 249, 250);
    }
  </style>
</head>

<body>
  <main class="mt-5">
    <div class="container">
      <div class="login-container" >
        <div class="image-container">
          <img src="img/login.png" class="img-log">
        </div>
        <h2>Inicio de sesión</h2>
        <div class="log-cont">
         <form id="form">		
          <label for="name" class="label">Email</label>
          <br>
          <input type="email" id="input-email" required>
          <br><br>
          <label for="name" class="label">Contraseña</label>
          <br>
          <input type="password" id="input-password" required>
          <br>
          <button id="btnlogin">Ingresar</button>
         </form>
        </div>
      </div>
      <!-- <div class="alert alert-danger text-center" role="alert">
        <h4 class="alert-heading">Funcionalidad en desarrollo</h4>
      </div> -->
    </div>
    <div id="my-signin2"></div>
    <div class="containerGoogle">
      <img src="" alt="profile" class="img">
      <div class="name"></div>
      <br>
      <lable>ID: </lable>
      <div class="id"></div>
      <br>
      <lable>Email: </lable>
      <div class="email"></div>
      <button onClick="signOut()">Sign Out</button>
    </div>
  <script>
    var container = document.getElementsByClassName('containerGoogle')[0];
    var img = document.getElementsByClassName('img')[0];
    var getName = document.getElementsByClassName('name')[0];
    var id = document.getElementsByClassName('id')[0];
    var email = document.getElementsByClassName('email')[0];
    
    function onSuccess(googleUser){
      var profile = googleUser.getBasicProfile();
      img.src = profile.getImageUrl();
      getName.innerHTML = profile.getName();
      id.innerHTML = profile.getId();
      email.innerHTML = profile.getEmail();
      console.log('Access Token: ' + googleUser.getAuthResponse().id_token);
      container.style.display = 'inline-block';
    }
    function onFailure(error){
      console.log(error);
    }
    function renderButton(){
      gapi.signin2.render('my-signin2', {
        'scope': 'profile email',
        'width': 240,
        'height': 50,
        'longtitle': true,
        'theme': 'dark',
        'onsuccess': onSuccess,
        'onfailure': onFailure
      })
    }
    function signOut(){
      var auth2 = gapi.auth2.getAuthInstance();
      auth2.signOut().then(function(){
        location.reload();
      });
      auth2.disconnect();
    }
  </script>
  
  </main>
  <footer class="text-muted">
    <div class="container">
      <p class="float-end">
        <a href="#">Volver arriba</a>
      </p>
      <p>Este sitio forma parte de <a href="https://jovenesaprogramar.edu.uy/" target="_blank">Jovenes a Programar</a> -
        2022</p>
      <p>Clickea <a target="_blank" href="Letra.pdf">aquí</a> para descargar la letra del obligatorio.</p>
    </div>
  </footer>
  <script src="js/login.js"></script>
  <script src="https://apis.google.com/js/platform.js?onload=renderButton"></script>
</body>

</html>